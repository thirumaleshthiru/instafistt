async function getInstagramData(){const e=document.getElementById("url").value.trim(),t=document.querySelector(".result-posts");let n=document.querySelector(".loading");try{if(!e)throw new Error("Required elements not found.");n||(n=document.createElement("div"),n.classList.add("loading"),n.style.display="none",n.textContent="Loading...",t.appendChild(n)),n.style.display="block";const o=await fetch(`https://nice-gray-barnacle-yoke.cyclic.app/getInstagramData?url=${encodeURIComponent(e)}`),a=await o.json();n.style.display="none",a.length>0?(t.innerHTML="",a.forEach((e=>{const n=document.createElement("div");n.classList.add("post");const o=document.createElement("h3");o.textContent=`Story ${a.indexOf(e)+1}`;const l=document.createElement("button");l.textContent="Download",l.onclick=function(){window.location.href=e.download_link},n.appendChild(o),n.appendChild(l),t.appendChild(n)}))):alert("Please Try Again (Invalid URL/Instram Might Restricted/Server Problem")}catch(e){alert("Please Try Again (Invalid URL/Instram might Restricted/Server Problem)"),n&&(n.style.display="none")}}document.getElementById("submit").onclick=function(){const e=document.querySelector(".result-posts");e&&(e.innerHTML=""),getInstagramData()};
